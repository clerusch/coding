\subsection{Calculation 1}
\label{sec:calc1}

In the quantum circuit depicted in figure \ref{fig:circuit1} the input
state can be written as $|\psi_{control}\rangle \otimes |0\rangle 
\otimes |\psi_{target}\rangle$ and the measurement in the first 
timestep can be expressed as $\mathbb{I}\otimes X \otimes X$.\\
\\
The initial state $|\phi_{t=0}\rangle$ = $|\psi_{control}\rangle \otimes |\psi_{ancilla}\rangle \otimes
|\psi_{target}\rangle$\\
where\\
$|\psi_{control}\rangle = \alpha|0\rangle+\beta|1\rangle$
\\
$|\psi_{ancilla}\rangle = |0\rangle$
\\
$|\psi_{target}\rangle = \gamma|0\rangle+\delta|1\rangle$
\\
therefore:
\begin{equation}
|\phi_{t=0}\rangle = \alpha \left( \gamma |000\rangle + \delta |001\rangle\right)+
\beta \left( \gamma |100\rangle + \delta |101\rangle \right)
\end{equation}

If the first measurement result is +1, the state becomes:
\begin{align*}
	|\phi^{+}_{t=1}\rangle 
	&= \frac{1}{2}\left(\mathbb{I}\otimes\mathbb{I}\otimes\mathbb{I}+
	\mathbb{I}\otimes X \otimes X\right)|\phi_{t=0}\rangle\\
	&= \alpha \left( 
	\gamma \left( |000\rangle + |011\rangle \right) +
	\delta \left( |001\rangle + |010\rangle \right) \right) \\
	&+ \beta \left(
	\gamma \left( |100\rangle + |111\rangle \right) +
	\delta \left( |101\rangle + |110\rangle \right) \right)
\end{align*}
if the result is -1, it becomes:
\begin{align*}
	|\phi^{-}_{t=1}\rangle 
	&= \frac{1}{2}\left(\mathbb{I}\otimes\mathbb{I}\otimes\mathbb{I}-
	\mathbb{I}\otimes X \otimes X\right)|\phi_{t=0}\rangle\\
	&= \alpha \left( 
	\gamma \left( |000\rangle - |011\rangle \right) +
	\delta \left( |001\rangle - |010\rangle \right) \right) \\
	&+ \beta \left(
	\gamma \left( |100\rangle - |111\rangle \right) +
	\delta \left( |101\rangle - |110\rangle \right) \right)
\end{align*}

In the case of the +1 Measurement $\rightarrow$ a=0:
\begin{align*}
	|\phi^{++}_{t=2}\rangle 
	&= \frac{1}{2}\left(\mathbb{I}\otimes\mathbb{I}\otimes\mathbb{I}+
	Z\otimes Z \otimes \mathbb{I}\right)|\phi^{+}_{t=1}\rangle\\
	&= (|000\rangle\langle000| +|001\rangle\langle001| +
	|110\rangle\langle110| +|111\rangle\langle111|)|\phi^{+}_{t=1}\rangle\\
	&= \alpha \left( \gamma |000\rangle + \delta |001\rangle \right)
	+ \beta \left( \gamma |111\rangle + \delta |110\rangle\right) 
\end{align*}
\begin{align*}
	|\phi^{+-}_{t=2}\rangle 
	&= \frac{1}{2}\left(\mathbb{I}\otimes\mathbb{I}\otimes\mathbb{I}-
	Z \otimes Z \otimes \mathbb{I}\right)|\phi^{+}_{t=1}\rangle\\
	&= (|010\rangle\langle010| +|011\rangle\langle011| +
	|100\rangle\langle100| +|101\rangle\langle101|)|\phi^{+}_{t=1}\rangle\\
	&= \alpha \left( \gamma |011\rangle + \delta |010\rangle \right)
	+ \beta \left( \gamma |100\rangle + \delta |101\rangle \right) 
\end{align*}
In the case of the -1 Measurement $\rightarrow$ a=1:
\begin{align*}
	|\phi^{-+}_{t=2}\rangle 
	&= \frac{1}{2}\left(\mathbb{I}\otimes\mathbb{I}\otimes\mathbb{I}+
	Z\otimes Z \otimes \mathbb{I}\right)|\phi^{-}_{t=1}\rangle\\
	&= \alpha \left( \gamma |000\rangle + \delta |001\rangle \right)
	- \beta \left( \gamma |111\rangle + \delta |110\rangle\right) 
\end{align*}
\begin{align*}
	|\phi^{--}_{t=2}\rangle 
	&= \frac{1}{2}\left(\mathbb{I}\otimes\mathbb{I}\otimes\mathbb{I}-
	Z\otimes Z \otimes \mathbb{I}\right)|\phi^{-}_{t=1}\rangle\\
	&= - \alpha \left( \gamma |011\rangle + \delta |010\rangle \right)
	+ \beta \left( \gamma |100\rangle + \delta |101\rangle \right) 
\end{align*}
Now the applied measurement is 
$\mathbb{I} \otimes X \otimes \mathbb{I}$, which means:
\begin{align*}
	|\phi^{+++}_{t=3}\rangle 
	&= \frac{1}{2}\left(\mathbb{I}\otimes\mathbb{I}\otimes\mathbb{I}+
	\mathbb{I}\otimes X \otimes \mathbb{I}\right)|\phi^{++}_{t=2}\rangle\\
	&= \frac{1}{2}((|010\rangle + |000\rangle)\langle000|
	+ (|011\rangle + |001\rangle)\langle001|\\
	&+ (|000\rangle + |010\rangle)\langle010|
	+ (|001\rangle + |011\rangle)\langle011|\\
	&+ (|110\rangle + |100\rangle)\langle100|
	+ (|111\rangle + |101\rangle)\langle101|\\
	&+ (|100\rangle + |110\rangle)\langle110|
	+ (|101\rangle + |111\rangle)\langle111|)
	|\phi^{++}_{t=2}\rangle\\
	&= \frac{1}{2}(\alpha \left( 
	\gamma (|000\rangle + |010\rangle)+
	\delta (|011\rangle + |001\rangle) \right) \\
	&+ \beta \left( 
	\gamma (|101\rangle + |111\rangle)+
	\delta (|100\rangle + |110\rangle) \right))
\end{align*}
In this case, a,b and c would each be zero, therefore no further gate would be applied.\\
As intended, this state is equivalent to 
$CNOT_{|\psi_{Control}\rangle\rightarrow |\psi_{Target}\rangle} |\phi_{t=0}\rangle$.
\\
If the last measurement result is -1:
\begin{align*}
	|\phi^{++-}_{t=3}\rangle 
	&= \frac{1}{2}\left(\mathbb{I}\otimes\mathbb{I}\otimes\mathbb{I}-
	\mathbb{I}\otimes X \otimes \mathbb{I}\right)|\phi^{++}_{t=2}\rangle\\
	&= \frac{1}{2}((|010\rangle + |000\rangle)\langle000|
	+ (|001\rangle-|011\rangle )\langle001|\\
	&+ (|010\rangle-|000\rangle)\langle010|
	+ (|011\rangle-|001\rangle)\langle011|\\
	&+ (|100\rangle-|110\rangle)\langle100|
	+ (|101\rangle-|111\rangle)\langle101|\\
	&+ (|110\rangle-|100\rangle)\langle110|
	+ (|111\rangle-|101\rangle)\langle111|)
	|\phi^{++}_{t=2}\rangle\\
	&= \frac{1}{2}(\alpha \left( 
	TODOTODOTODOTODOTODO
	\gamma (|000\rangle + |010\rangle)+
	\delta (|011\rangle + |001\rangle) \right) \\
	&+ \beta \left( 
	\gamma (|101\rangle + |111\rangle)+
	\delta (|100\rangle + |110\rangle) \right))
\end{align*}
Notably, each measurement sequence has a differing resulting ancilla state, 
however we do not care since ancillas are meant to be discarded.
\\
For now, the other 7 final computation steps are left as an exercise
to the reader, however I probably will still finish that.
